var searchFunc=function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),a=document.getElementById(e),s=document.getElementById(r);a.addEventListener("input",(function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);if(s.innerHTML="",!(this.value.trim().length<=0)){var r=1;n.forEach((function(n){var a=!0,s=n.title.trim().toLowerCase(),i=n.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),c=n.url,l=-1,u=-1,o=-1;if(""!=s&&""!=i&&e.forEach((function(t,e){l=s.indexOf(t),u=i.indexOf(t),l<0&&u<0?a=!1:(u<0&&(u=0),0==e&&(o=u))})),a){t+="<li><a href='"+c+"' class='search-result-title'>"+String(r)+". "+s+"</a>",r+=1;var f=n.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var h=o-20;h<0&&(h=0);var m=f.substr(h,100);e.forEach((function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")})),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}})),t+="</ul>",t='<p class="search-result-summary">共找到'+String(r-1)+"条结果</p>"+t,s.innerHTML=t}}))}})};